<!DOCTYPE html>
<html>
<head>
    <title>Debug Test</title>
</head>
<body>
    <h1>Debug Test</h1>
    <div id="status"></div>
    <div id="data"></div>
    
    <script>
        const statusDiv = document.getElementById('status');
        const dataDiv = document.getElementById('data');
        
        statusDiv.innerHTML = 'Testing API endpoints...';
        
        // Test different possible paths
        const testPaths = [
            '/api/for_codes.json',
            '/api/for_codes',
            'api/for_codes.json',
            'api/for_codes',
            '/arc-discovery-analysis/api/for_codes.json',
            '/arc-discovery-analysis/api/for_codes'
        ];
        
        testPaths.forEach(path => {
            fetch(path)
                .then(response => {
                    statusDiv.innerHTML += '<br>' + path + ': ' + response.status + ' ' + response.statusText;
                    if (response.ok) {
                        statusDiv.innerHTML += ' ✅';
                        return response.json();
                    } else {
                        throw new Error('HTTP ' + response.status);
                    }
                })
                .then(data => {
                    statusDiv.innerHTML += '<br>✅ Data loaded from ' + path;
                    dataDiv.innerHTML = '<pre>' + JSON.stringify(data, null, 2).substring(0, 500) + '...</pre>';
                })
                .catch(error => {
                    statusDiv.innerHTML += '<br>❌ ' + path + ': ' + error.message;
                });
        });
        
        // Test ranked_cis.json
        fetch('/api/ranked_cis.json')
            .then(response => {
                statusDiv.innerHTML += '<br>ranked_cis.json response: ' + response.status + ' ' + response.statusText;
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error('HTTP ' + response.status);
                }
            })
            .then(data => {
                statusDiv.innerHTML += '<br>✅ ranked_cis.json loaded successfully!';
            })
            .catch(error => {
                statusDiv.innerHTML += '<br>❌ Error loading ranked_cis.json: ' + error.message;
            });
    </script>
</body>
</html>
